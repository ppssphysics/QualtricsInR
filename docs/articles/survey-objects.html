<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survey Objects • QualtricsInR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Survey Objects">
<meta property="og:description" content="QualtricsInR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">QualtricsInR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Surveys
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/survey-responses.html">Exporting responses</a>
    </li>
    <li>
      <a href="../articles/surveys.html">Basic survey manipulations</a>
    </li>
    <li>
      <a href="../articles/survey-objects.html">Survey structure</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Distribution and Contacts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/distributions.html">Survey distributions</a>
    </li>
    <li>
      <a href="../articles/research-core-contacts.html">Mailing lists</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Libraries
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/research-core-contacts.html">Contacts</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Brand Administration
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/divisions.html">Divisions</a>
    </li>
    <li>
      <a href="../articles/groups.html">Groups</a>
    </li>
    <li>
      <a href="../articles/users.html">Users</a>
    </li>
    <li>
      <a href="../articles/data-privacy.html">Data privacy</a>
    </li>
    <li>
      <a href="../articles/audit.html">Audit</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/">All Functions</a>
    </li>
    <li>
      <a href="../articles/progress_table.html">Progress</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ppssphysics/QualtricsInR">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="survey-objects_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Survey Objects</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ppssphysics/QualtricsInR/blob/master/vignettes/survey-objects.Rmd"><code>vignettes/survey-objects.Rmd</code></a></small>
      <div class="hidden name"><code>survey-objects.Rmd</code></div>

    </div>

    
    
<p>Manipulating survey flows through the API can be useful but applies only to very specific use cases. An example is building through the Qualtrics UI a survey template that will need to be duplicated multiple times, each time with slight updates to the flow of questions, blocks, etc.</p>
<p>Moreover, using the flow related functions are not straightforward and will require additional work to understand the basics and indepensables of a flow structure and how modifying the flow impacts other key strcutural elements.</p>
<p>There are 3 main functions to intereact with survey flows:</p>
<ul>
<li>
<code>get_survey_flow</code> retrieves a survey’s flow as a nested list</li>
<li>
<code>update_survey_flow</code> allows to update the complete survey object (removing or adding elements)</li>
<li>
<code>update_flow_element</code> update the details of a specific survey flow element.</li>
</ul>
<p>As a simple example, we retrieve below the flow for a 2 questions survey, split into 2 blocks.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw">flow</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_survey_flow.html">get_survey_flow</a></span>(<span class="st">"SV_5haBIVgvUtsvQ1v"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="kw">flow</span>)
<span class="co">#&gt; [1] "FlowID"     "Type"       "Flow"       "Properties"</span>
</pre></div>
<p>The list contains 4 elements which define the key properties of a flow element.</p>
<p>Flow is the elements that contains the whole flow structure. Here we have 2 seb-elements corresponding to our 2 blocks in the survey:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>)
<span class="co">#&gt; [1] 3</span>
</pre></div>
<p>Properties contain at mimimum the Count variable that tell how many elements make up the flow. Remember the top-level Flow element returned in the list counts as an element so the count here is 3 (2 blocks and 1 top level flow element).</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">flow</span><span class="op">$</span><span class="kw">Properties</span><span class="op">$</span><span class="kw">Count</span>
<span class="co">#&gt; [1] 4</span>
</pre></div>
<p>FlowID is a unique id for the flow element (written as “FL_”)</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">flow</span><span class="op">$</span><span class="kw">FlowID</span>, <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]]<span class="op">$</span><span class="kw">FlowID</span>, <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]]<span class="op">$</span><span class="kw">FlowID</span>)
<span class="co">#&gt; [1] "FL_1" "FL_2" "FL_3"</span>
</pre></div>
<p>Type defines different possible type of flow elements. For this survey, we find:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">flow</span><span class="op">$</span><span class="kw">Type</span>, <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]]<span class="op">$</span><span class="kw">Type</span>, <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]]<span class="op">$</span><span class="kw">Type</span>)
<span class="co">#&gt; [1] "Root"     "Block"    "Standard"</span>
</pre></div>
<p>Each children flow element can have a specific ID that links that flow element to a specific object of the survey, for instance, here, block Ids.</p>
<p>Looking at updating the flow, we could for example switch the order of the two flow elements. To, we just invert the list order as well as the flow ids to match the new order.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">flow_1</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]]
<span class="kw">flow_2</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]]
<span class="kw">flow_1</span><span class="op">$</span><span class="kw">FlowID</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]]<span class="op">$</span><span class="kw">FlowID</span>
<span class="kw">flow_2</span><span class="op">$</span><span class="kw">FlowID</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]]<span class="op">$</span><span class="kw">FlowID</span>
<span class="kw">flow_1</span><span class="op">$</span><span class="kw">ID</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]]<span class="op">$</span><span class="kw">ID</span>
<span class="kw">flow_2</span><span class="op">$</span><span class="kw">ID</span> <span class="op">&lt;-</span> <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]]<span class="op">$</span><span class="kw">ID</span>
<span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">1</span>]] <span class="op">&lt;-</span> <span class="kw">flow_1</span>
<span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>[[<span class="fl">2</span>]] <span class="op">&lt;-</span> <span class="kw">flow_2</span>
</pre></div>
<p>Sending the updated flow request requires to decouple the flow object in its different elements:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="../reference/update_survey_flow.html">update_survey_flow</a></span>(
  <span class="st">"SV_5haBIVgvUtsvQ1v"</span>, 
  <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="kw">flow</span><span class="op">$</span><span class="kw">FlowID</span>), 
  <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="kw">flow</span><span class="op">$</span><span class="kw">Type</span>),
  <span class="kw">flow</span><span class="op">$</span><span class="kw">Flow</span>,
  <span class="kw">flow</span><span class="op">$</span><span class="kw">Properties</span>)
<span class="co">#&gt; NULL</span>
</pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Pierre Souter.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
