<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survey Reponses • QualtricsInR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Survey Reponses">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">QualtricsInR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Surveys
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/survey-objects.html">Manipulating Survey Objects</a>
    </li>
    <li>
      <a href="../articles/survey-response.html">Suvey Responses</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Distribution and Contacts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/distributions.html">Survey Distributions</a>
    </li>
    <li>
      <a href="../articles/research-core-contacts.html">Mailing Lists</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Brand Administration
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/divisions.html">Divisions</a>
    </li>
    <li>
      <a href="../articles/groups.html">Groups</a>
    </li>
    <li>
      <a href="../articles/users.html">Users</a>
    </li>
    <li>
      <a href="../articles/data-privacy.html">Data Privacy</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Development
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/progress_table.html">Progress</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ppssphysics/QualtricsInR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="survey-responses_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Survey Reponses</h1>
            
      
      
      <div class="hidden name"><code>survey-responses.Rmd</code></div>

    </div>

    
    
<p>In addition of providing a standard method for exporting the responses of a survey, <a href="https://github.com/ppssphysics/QualtricsInR">QualtricsInR</a> provides an useful method for efficiently handling the download of multiple surveys.</p>
<p>The process to retrieve survey data requires 3 steps: 1) request the data from Qualtrics, 2) wait while the data is being prepared, 3) download the data (more information can be found <a href="https://api.qualtrics.com/docs/getting-survey-responses-new">here</a>). It may therefore be more efficient, when downloading responses from multiple surveys to 1) request the downloads 2) download the prepared files once they are ready.</p>
<div id="standard-export-method" class="section level2">
<h2 class="hasAnchor">
<a href="#standard-export-method" class="anchor"></a>Standard Export Method</h2>
<p>You can export the responses from your survey using the <code>get_survey_responses</code> function.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># retrieve all survey ids from your account</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>survids &lt;-<span class="st"> </span><span class="kw"><a href="../reference/list_surveys.html">list_surveys</a></span>()</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(survids)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt;   id        name                 ownerId    lastModified  creationDate  isActive</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;                &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt;         &lt;lgl&gt;   </span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; 1 SV_2uAzZ… Frontiers &amp; World E… UR_8ctTGg… 2019-07-26T0… 2019-06-11T1… FALSE   </span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 2 SV_0pjuS… Secure Innovation C… UR_0v7jd3… 2019-11-20T1… 2019-10-21T1… FALSE   </span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; 3 SV_1WVdr… Frontiers &amp; World E… UR_3Iz3hA… 2019-06-05T1… 2019-05-24T1… TRUE    </span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; 4 SV_2a7CW… EOS 2020 - 22/01/20… UR_4TwefW… 2020-01-22T1… 2020-01-22T0… TRUE    </span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; 5 SV_4NhCo… Future Frontiers Su… UR_ex78Dl… 2019-10-28T1… 2019-05-24T1… FALSE   </span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; 6 SV_7R5Hs… Test Scenarios Feat… UR_cMksFK… 2020-01-08T1… 2019-08-05T1… TRUE</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co"># export survey responses, returned ads a list of all surveys' results</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>dt &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_survey_responses.html">get_survey_responses</a></span>(survids<span class="op">$</span>id[<span class="dv">16</span>], <span class="dt">format =</span> <span class="st">"csv"</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(dt)</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#&gt; # A tibble: 0 x 115</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#&gt; # … with 115 variables: StartDate &lt;chr&gt;, EndDate &lt;chr&gt;, Status &lt;chr&gt;,</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#&gt; #   IPAddress &lt;chr&gt;, Progress &lt;chr&gt;, `Duration (in seconds)` &lt;chr&gt;,</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">#&gt; #   Finished &lt;chr&gt;, RecordedDate &lt;chr&gt;, ResponseId &lt;chr&gt;,</span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="co">#&gt; #   RecipientLastName &lt;chr&gt;, RecipientFirstName &lt;chr&gt;, RecipientEmail &lt;chr&gt;,</span></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="co">#&gt; #   ExternalReference &lt;chr&gt;, LocationLatitude &lt;chr&gt;, LocationLongitude &lt;chr&gt;,</span></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="co">#&gt; #   DistributionChannel &lt;chr&gt;, UserLanguage &lt;chr&gt;, Q2_1 &lt;chr&gt;, Q2_2 &lt;chr&gt;,</span></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="co">#&gt; #   Q2_3 &lt;chr&gt;, Q2_4 &lt;chr&gt;, Q2_5 &lt;chr&gt;, Q2_6 &lt;chr&gt;, Q2_7 &lt;chr&gt;, Q3 &lt;chr&gt;,</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co">#&gt; #   Q4 &lt;chr&gt;, Q5 &lt;chr&gt;, Q6_1 &lt;chr&gt;, Q6_2 &lt;chr&gt;, Q6_3 &lt;chr&gt;, Q6_4 &lt;chr&gt;,</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">#&gt; #   Q11_1 &lt;chr&gt;, Q11_2 &lt;chr&gt;, Q11_3 &lt;chr&gt;, Q11_4 &lt;chr&gt;, Q11_5 &lt;chr&gt;,</span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">#&gt; #   Q11_6 &lt;chr&gt;, Q11_7 &lt;chr&gt;, Q11_8 &lt;chr&gt;, Q11_9 &lt;chr&gt;, Q12 &lt;chr&gt;, Q13_1 &lt;chr&gt;,</span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">#&gt; #   Q13_2 &lt;chr&gt;, Q13_3 &lt;chr&gt;, Q13_4 &lt;chr&gt;, Q13_5 &lt;chr&gt;, Q13_6 &lt;chr&gt;,</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co">#&gt; #   Q13_7 &lt;chr&gt;, Q13_8 &lt;chr&gt;, Q13_9 &lt;chr&gt;, Q13_10 &lt;chr&gt;, Q13_11 &lt;chr&gt;,</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="co">#&gt; #   Q14 &lt;chr&gt;, Q15_1 &lt;chr&gt;, Q15_2 &lt;chr&gt;, Q15_3 &lt;chr&gt;, Q15_4 &lt;chr&gt;, Q15_5 &lt;chr&gt;,</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co">#&gt; #   Q15_6 &lt;chr&gt;, Q15_7 &lt;chr&gt;, Q15_8 &lt;chr&gt;, Q15_9 &lt;chr&gt;, Q16 &lt;chr&gt;, Q17_1 &lt;chr&gt;,</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co">#&gt; #   Q17_2 &lt;chr&gt;, Q17_3 &lt;chr&gt;, Q17_4 &lt;chr&gt;, Q17_5 &lt;chr&gt;, Q17_6 &lt;chr&gt;,</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="co">#&gt; #   Q17_7 &lt;chr&gt;, Q17_8 &lt;chr&gt;, Q17_9 &lt;chr&gt;, Q17_10 &lt;chr&gt;, Q17_11 &lt;chr&gt;,</span></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="co">#&gt; #   Q17_12 &lt;chr&gt;, Q17_13 &lt;chr&gt;, Q18 &lt;chr&gt;, Q19_1 &lt;chr&gt;, Q19_2 &lt;chr&gt;,</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="co">#&gt; #   Q19_3 &lt;chr&gt;, Q19_4 &lt;chr&gt;, Q19_5 &lt;chr&gt;, Q19_6 &lt;chr&gt;, Q19_7 &lt;chr&gt;,</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="co">#&gt; #   Q19_8 &lt;chr&gt;, Q19_9 &lt;chr&gt;, Q19_10 &lt;chr&gt;, Q19_11 &lt;chr&gt;, Q19_12 &lt;chr&gt;,</span></span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="co">#&gt; #   Q20 &lt;chr&gt;, Q21_1 &lt;chr&gt;, Q21_2 &lt;chr&gt;, Q21_3 &lt;chr&gt;, Q21_4 &lt;chr&gt;, Q21_5 &lt;chr&gt;,</span></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="co">#&gt; #   Q21_6 &lt;chr&gt;, Q22 &lt;chr&gt;, Q23_1 &lt;chr&gt;, Q23_2 &lt;chr&gt;, Q23_3 &lt;chr&gt;, …</span></span></code></pre></div>
<p>The default file format is json but csv and tsv can be passed. We currently don’t provide the SPSS file format as an output option.</p>
<p>A number of <a href="https://api.qualtrics.com/docs/getting-survey-responses-new">optional parameters</a> can be passed to the function. Be aware that any download that exceeds 1.8 GB will need to be split in several exports using different time intervals (dates specifications follow the ISO 8601 standard YYYY-MM-DD (more information <a href="https://api.qualtrics.com/docs/dates-and-times">here</a>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># export survey and save it the local folder</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="../reference/get_survey_responses.html">get_survey_responses</a></span>(survids<span class="op">$</span>id[<span class="dv">16</span>], <span class="dt">format =</span> <span class="st">"csv"</span>, <span class="dt">saveDir =</span> <span class="st">"./"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># ask an export for all responses after April 1st, 2016 and before April 25 2016</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>start &lt;-<span class="st"> "2016-04-01T07:31:43Z"</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>end &lt;-<span class="st"> "2016-04-25T07:31:43Z"</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="kw"><a href="../reference/get_survey_responses.html">get_survey_responses</a></span>(survids<span class="op">$</span>id[<span class="dv">16</span>], <span class="dt">format =</span> <span class="st">"csv"</span>, <span class="dt">startDate =</span> start, <span class="dt">endDate =</span> end)</span></code></pre></div>
<p>By default, Qualtrics will now set the <em>useLabels</em> option to FALSE, which exports question results as the recode values of the answer choices. If you want instead to export the text of the answer choice, set the value to TRUE.</p>
</div>
<div id="retrieving-multiple-surveys" class="section level2">
<h2 class="hasAnchor">
<a href="#retrieving-multiple-surveys" class="anchor"></a>Retrieving Multiple Surveys</h2>
<p>If you need to download responses from multiple surveys or you have a need to schedule regular automated exports of multiple survey responses, we recommend you use the approach described below:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>requests &lt;-<span class="st"> </span><span class="kw"><a href="../reference/bulk-download.html">request_downloads</a></span>(survids<span class="op">$</span>id[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">format =</span> <span class="st">"csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>requests</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; Download Requests:</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt;  ✔ 5  Successful</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;  ✖ 0  Unsuccessful</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co"># download the data</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/bulk-download.html">download_requested</a></span>(requests)</span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(data)</span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>The implementation takes into account the rate limit imposed by Qualtrics for this specific call. Once the limit is attained in looping accross the different survey ids, the procedure waits a few seconds before trying again. You can set the paramter <em>retryOnRateLimit</em> to FALSE and the procedure will stop upon the first error returned by Qualtrics.</p>
</div>
<div id="download-responses-in-progress" class="section level2">
<h2 class="hasAnchor">
<a href="#download-responses-in-progress" class="anchor"></a>Download Responses In Progress</h2>
<p>One useful parameter that was recently added by Qualtrics is the ability to retrieve a survey’s <em>in progress</em> responses.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>dt &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_survey_responses.html">get_survey_responses</a></span>(survids<span class="op">$</span>id[<span class="dv">16</span>], <span class="dt">format =</span> <span class="st">"csv"</span>, <span class="dt">exportResponsesInProgress =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>## Importing Responses</p>
<p>The ability to import survey responses can be useful when a survey campaign is split accross multiple clones of a given survey object. One can use the API to retrieve survey responses from one object to import it back into a master version. See the reference functions if you want to use these functions.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#standard-export-method">Standard Export Method</a></li>
      <li><a href="#retrieving-multiple-surveys">Retrieving Multiple Surveys</a></li>
      <li><a href="#download-responses-in-progress">Download Responses In Progress</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Pierre Souter.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
