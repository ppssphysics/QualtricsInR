<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survey Flows • QualtricsInR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Survey Flows">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">QualtricsInR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Surveys
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/survey-defs-questions.html">Survey Questions</a>
    </li>
    <li>
      <a href="../articles/survey-defs-flows.html">Survey Flow</a>
    </li>
    <li>
      <a href="../articles/survey-defs-blocks.html">Survey Blocks</a>
    </li>
    <li>
      <a href="../articles/survey-defs-options.html">Survey Options</a>
    </li>
    <li>
      <a href="../articles/survey-defs-meta.html">Survey Meta Data</a>
    </li>
    <li>
      <a href="../articles/survey-defs-languages.html">Survey Languages</a>
    </li>
    <li>
      <a href="../articles/survey-defs-versions.html">Survey Version</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Responses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/survey-response-exports.html">Exporting Responses</a>
    </li>
    <li>
      <a href="../articles/survey-response-imports.html">Importing Responses</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Distribution and Contacts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/distributions.html">Survey Distributions</a>
    </li>
    <li>
      <a href="../articles/research-core-contacts.html">Mailing Lists</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Brand Administration
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/divisions.html">Divisions</a>
    </li>
    <li>
      <a href="../articles/groups.html">Groups</a>
    </li>
    <li>
      <a href="../articles/users.html">Users</a>
    </li>
    <li>
      <a href="../articles/data-privacy.html">Data Privacy</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Development
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/progress_table.html">Progress</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ppssphysics/QualtricsInR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="survey-defs-flows_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Survey Flows</h1>
            
      
      
      <div class="hidden name"><code>survey-defs-flows.Rmd</code></div>

    </div>

    
    
<p>Manipulating survey flows through the API can be useful but applies only to very specific use cases. An example is building through the Qualtrics UI a survey template that will need to be duplicated multiple times, each time with slight updates to the flow of questions, blocks, etc.</p>
<p>Moreover, using the flow related functions are not straightforward and will require additional work to understand the basics and indepensables of a flow structure and how modifying the flow impacts other key strcutural elements.</p>
<p>There are 3 main functions to intereact with survey flows:</p>
<ul>
<li>
<code>get_survey_flow</code> retrieves a survey’s flow as a nested list</li>
<li>
<code>update_survey_flow</code> allows to update the complete survey object (removing or adding elements)</li>
<li>
<code>update_flow_element</code> update the details of a specific survey flow element.</li>
</ul>
<p>As a simple example, we retrieve below the flow for a 2 questions survey, split into 2 blocks.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>flow &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_survey_flow.html">get_survey_flow</a></span>(<span class="st">"SV_5haBIVgvUtsvQ1v"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(flow)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#&gt; [1] "FlowID"     "Type"       "Flow"       "Properties"</span></span></code></pre></div>
<p>The list contains 4 elements which define the key properties of a flow element.</p>
<p>Flow is the elements that contains the whole flow structure. Here we have 2 seb-elements corresponding to our 2 blocks in the survey:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(flow<span class="op">$</span>Flow)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Properties contain at mimimum the Count variable that tell how many elements make up the flow. Remember the top-level Flow element returned in the list counts as an element so the count here is 3 (2 blocks and 1 top level flow element).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>flow<span class="op">$</span>Properties<span class="op">$</span>Count</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>FlowID is a unique id for the flow element (written as “FL_”)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(flow<span class="op">$</span>FlowID, flow<span class="op">$</span>Flow[[<span class="dv">1</span>]]<span class="op">$</span>FlowID, flow<span class="op">$</span>Flow[[<span class="dv">2</span>]]<span class="op">$</span>FlowID)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; [1] "FL_1" "FL_2" "FL_3"</span></span></code></pre></div>
<p>Type defines different possible type of flow elements. For this survey, we find:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(flow<span class="op">$</span>Type, flow<span class="op">$</span>Flow[[<span class="dv">1</span>]]<span class="op">$</span>Type, flow<span class="op">$</span>Flow[[<span class="dv">2</span>]]<span class="op">$</span>Type)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; [1] "Root"     "Block"    "Standard"</span></span></code></pre></div>
<p>Each children flow element can have a specific ID that links that flow element to a specific object of the survey, for instance, here, block Ids.</p>
<p>Looking at updating the flow, we could for example switch the order of the two flow elements. To, we just invert the list order as well as the flow ids to match the new order.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>flow_<span class="dv">1</span> &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">2</span>]]</span>
<span id="cb6-2"><a href="#cb6-2"></a>flow_<span class="dv">2</span> &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">1</span>]]</span>
<span id="cb6-3"><a href="#cb6-3"></a>flow_<span class="dv">1</span><span class="op">$</span>FlowID &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">1</span>]]<span class="op">$</span>FlowID</span>
<span id="cb6-4"><a href="#cb6-4"></a>flow_<span class="dv">2</span><span class="op">$</span>FlowID &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">2</span>]]<span class="op">$</span>FlowID</span>
<span id="cb6-5"><a href="#cb6-5"></a>flow_<span class="dv">1</span><span class="op">$</span>ID &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">1</span>]]<span class="op">$</span>ID</span>
<span id="cb6-6"><a href="#cb6-6"></a>flow_<span class="dv">2</span><span class="op">$</span>ID &lt;-<span class="st"> </span>flow<span class="op">$</span>Flow[[<span class="dv">2</span>]]<span class="op">$</span>ID</span>
<span id="cb6-7"><a href="#cb6-7"></a>flow<span class="op">$</span>Flow[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>flow_<span class="dv">1</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>flow<span class="op">$</span>Flow[[<span class="dv">2</span>]] &lt;-<span class="st"> </span>flow_<span class="dv">2</span></span></code></pre></div>
<p>Sending the updated flow request requires to decouple the flow object in its different elements:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="../reference/update_survey_flow.html">update_survey_flow</a></span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="st">"SV_5haBIVgvUtsvQ1v"</span>, </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(flow<span class="op">$</span>FlowID), </span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(flow<span class="op">$</span>Type),</span>
<span id="cb7-5"><a href="#cb7-5"></a>  flow<span class="op">$</span>Flow,</span>
<span id="cb7-6"><a href="#cb7-6"></a>  flow<span class="op">$</span>Properties)</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Pierre Souter.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
